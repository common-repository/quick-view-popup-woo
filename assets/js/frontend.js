const n={createPopup:function(e,t){t=Object.assign({},{width:"400px",height:"300px",title:"",onClose:function(){},onOpen:function(){},galleryMode:!1,galleryItems:[],currentIndex:0,overlay:!0,closeOnEscape:!0,closeOnClickOutside:!0},t);let r=null;t.overlay&&(r=document.createElement("div"),r.classList.add("wpvqv-overlay"),document.body.appendChild(r));const c=document.createElement("div");c.classList.add("wpvqv-popup-container"),c.style.width=t.width,c.style.height=t.height;const l=document.createElement("button");l.classList.add("wpvqv-popup-close-btn"),l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" data-v-ea893728=""><path fill="currentColor" d="M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"></path></svg>',l.addEventListener("click",function(){n.closePopup(c,r,t.onClose)});const i=document.createElement("div");if(i.classList.add("wpvqv-popup-content"),i.innerHTML=e,i.appendChild(l),t.title){const o=document.createElement("div");o.classList.add("wpvqv-popup-title"),o.textContent=t.title}if(t.closeOnEscape&&document.addEventListener("keydown",function(o){o.key==="Escape"&&n.closePopup(c,r,t.onClose)}),t.title&&c.appendChild(popupTitle),c.appendChild(i),t.galleryMode){const o=document.createElement("div");o.classList.add("wpvqv-gallery-buttons"),o.appendChild(prevButton),o.appendChild(nextButton),c.appendChild(o)}document.body.appendChild(c),t.onOpen(),t.closeOnClickOutside&&(r.addEventListener("click",function(){n.closePopup(c,r,t.onClose)}),c.addEventListener("click",function(o){o.stopPropagation()})),document.body.style.overflow="hidden"},closePopup:function(e,t,u){e&&t&&(e.parentNode.removeChild(e),t.parentNode.removeChild(t),document.body.style.overflow="",u())}};async function d(e){const t=new FormData;return t.append("action","wpvqv_quick_view"),t.append("product_id",e),t.append("wpvcp_security",wpvqv.security),await(await fetch(wpvqv.ajaxurl,{method:"POST",body:t})).text()}const p=document.querySelectorAll(".wpvqv-quick-view-btn");p.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let u=e.getAttribute("data-product_id");document.querySelector(".popup-content"),d(u).then(r=>{n.createPopup(r,{width:"60%",height:"55vh",onClose:function(){},onOpen:function(){jQuery(".woocommerce-product-gallery").wc_product_gallery(wc_single_product_params),jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form();var c=jQuery(this);c.on("found_variation",function(l,i){i&&i.image.src&&a(i.image)}),c.on("reset_data",function(){var l=c.data("product_variations")[1];l&&l.image.src&&a(l.image)})}),jQuery(".cart").each(function(){jQuery(this).wc_variation_form()})}})})})});function a(e){let t=document.querySelector(".woocommerce-product-gallery");if(t){let r=t.querySelector(".flex-control-thumbs").querySelector('li img[src="'+e.gallery_thumbnail_src+'"]');r==null?s(e):jQuery(r).trigger("click")}}function s(e){let t=document.querySelector(".woocommerce-product-gallery"),r=t.querySelector(".flex-control-nav").querySelector("li:first-child img");product_img_wrap=t.querySelector(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder"),product_img=product_img_wrap.querySelector(".wp-post-image"),product_link=product_img_wrap.querySelector("a"),product_zoom_image=product_img_wrap.querySelector(".zoomImg"),product_zoom_image&&product_zoom_image.setAttribute("src",e.src),product_img.setAttribute("src",e.src),product_img.setAttribute("height",e.src_h),product_img.setAttribute("width",e.src_w),product_img.setAttribute("srcset",e.srcset),product_img.setAttribute("sizes",e.sizes),product_img.setAttribute("title",e.title),product_img.setAttribute("data-caption",e.caption),product_img.setAttribute("alt",e.alt),product_img.setAttribute("data-src",e.full_src),product_img.setAttribute("data-large_image",e.full_src),product_img.setAttribute("data-large_image_width",e.full_src_w),product_img.setAttribute("data-large_image_height",e.full_src_h),$(product_img_wrap).wc_set_variation_attr("data-thumb",e.src),r.setAttribute("src",e.gallery_thumbnail_src),product_link.setAttribute("href",e.full_src),$(r).trigger("click")}
//# sourceMappingURL=frontend.js.map
